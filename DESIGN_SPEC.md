# 기술 블로그 기획 문서

## 📋 프로젝트 개요

**목표:** Notion을 CMS로 활용한 개인 기술 블로그
**스타일:** devocean 참고 (깔끔한 카드형 레이아웃)
**핵심 기능:** 핀 게시물, 조회수, 댓글

---

## 🎨 페이지 구조

### 1. 메인 페이지 (`/`)

#### 레이아웃
```
┌─────────────────────────────────────┐
│  Header (고정)                       │
│  [Logo]              [햄버거 버튼]    │
├─────────────────────────────────────┤
│                                      │
│  Hero Section                        │
│  "✨마법을 믿지 않는 개발자"           │
│  간단한 자기소개                      │
│                                      │
├─────────────────────────────────────┤
│                                      │
│  📌 Pinned Posts (핀한 글)           │
│  ┌─────┐  ┌─────┐  ┌─────┐          │
│  │Card │  │Card │  │Card │          │
│  └─────┘  └─────┘  └─────┘          │
│                                      │
├─────────────────────────────────────┤
│                                      │
│  📝 Recent Posts (최신 글)           │
│  ┌────────────────┐                 │
│  │ List Item      │                 │
│  ├────────────────┤                 │
│  │ List Item      │                 │
│  └────────────────┘                 │
│                                      │
└─────────────────────────────────────┘
```

#### 구성 요소

**Header**
- 왼쪽: 블로그 로고/이름
- 오른쪽: 햄버거 메뉴 (☰)
- 고정 (스크롤 시 상단 고정)
- 배경: 반투명 blur 효과

**Hero Section**
- 높이: 40vh
- 배경: 그라데이션 또는 단색
- 텍스트: 캐치프레이즈 + 짧은 소개
- 버튼: "글 보러가기"

**Pinned Posts (핀한 글)**
- 레이아웃: 3단 그리드 (모바일: 1단)
- 카드 형식
  - 썸네일 이미지 (16:9 비율)
  - 📌 핀 아이콘
  - 제목 (2줄 말줄임)
  - 설명 (3줄 말줄임)
  - 태그 (최대 3개)
  - 하단: 날짜 | 조회수 👁️ 123 | 댓글 💬 5

**Recent Posts (최신 글)**
- 레이아웃: 리스트 (세로 나열)
- 최대 5개 표시
- 각 아이템:
  - 좌측: 작은 썸네일 (100x100px)
  - 우측: 제목 + 날짜 + 조회수

---

### 2. 글 목록 페이지 (`/posts`)

#### 접근 방법
- 헤더 햄버거 버튼 클릭 시 나타남
- 또는 `/posts` URL 직접 접근

#### 레이아웃 (devocean 스타일)
```
┌─────────────────────────────────────┐
│  Header                              │
├─────────────────────────────────────┤
│  📚 전체 글 목록                      │
│                                      │
│  [검색창] [태그 필터] [정렬 옵션]     │
│                                      │
│  ┌─────┐  ┌─────┐  ┌─────┐          │
│  │Card │  │Card │  │Card │          │
│  └─────┘  └─────┘  └─────┘          │
│                                      │
│  ┌─────┐  ┌─────┐  ┌─────┐          │
│  │Card │  │Card │  │Card │          │
│  └─────┘  └─────┘  └─────┘          │
│                                      │
│  [더보기 / 페이지네이션]              │
└─────────────────────────────────────┘
```

#### 기능

**필터링 & 검색**
```
┌────────────────────────────────────────┐
│ 🔍 [검색어 입력]                   [🔍] │
├────────────────────────────────────────┤
│ 🏷️ 전체 | React | TypeScript | Astro  │
├────────────────────────────────────────┤
│ 📅 최신순 ▼ | 조회순 | 댓글순          │
└────────────────────────────────────────┘
```

**카드 디자인 (devocean 스타일)**
```
┌───────────────────────────┐
│   [썸네일 이미지]          │ ← 16:9 비율
│                           │
├───────────────────────────┤
│ 🏷️ React  TypeScript     │ ← 태그
│                           │
│ 제목이 여기 표시됩니다     │ ← 제목 (bold)
│ 최대 2줄까지 보여집니다    │
│                           │
│ 설명이 여기에...          │ ← 설명 (3줄)
│ 간략한 내용 요약          │
│                           │
├───────────────────────────┤
│ 2025.01.15               │ ← 하단 메타
│ 👁️ 1.2K | 💬 23         │
└───────────────────────────┘
```

**그리드 레이아웃**
- 데스크탑: 3단 그리드
- 태블릿: 2단 그리드
- 모바일: 1단 그리드
- 간격: 24px

---

### 3. 글 상세 페이지 (`/blog/[slug]`)

#### 레이아웃
```
┌─────────────────────────────────────┐
│  Header                              │
├─────────────────────────────────────┤
│                                      │
│  [Hero Image - 커버 이미지]          │
│                                      │
├─────────────────────────────────────┤
│  📝 제목                             │
│  날짜 | 작성자 | 👁️ 조회수          │
│  🏷️ 태그들                          │
├─────────────────────────────────────┤
│                                      │
│  본문 내용                           │
│  (Markdown 렌더링)                   │
│                                      │
│  - 코드 블록 문법 강조               │
│  - 이미지                            │
│  - 제목, 리스트 등                   │
│                                      │
├─────────────────────────────────────┤
│  💬 댓글 (Giscus)                    │
│                                      │
│  ┌─────────────────────────────┐    │
│  │ GitHub으로 로그인하여 댓글   │    │
│  │ 작성하기                     │    │
│  └─────────────────────────────┘    │
└─────────────────────────────────────┘
```

#### 구성 요소

**상단 메타 정보**
- 제목: 3rem, bold
- 날짜: 2025년 1월 15일 작성
- 조회수: 👁️ 1,234회
- 태그: 클릭 시 해당 태그 필터 페이지로 이동

**본문**
- 최대 너비: 800px (가독성)
- 라인 높이: 1.8
- 폰트: 시스템 폰트 (Pretendard 또는 System UI)
- 코드 블록: Shiki 문법 강조

**댓글 영역**
- Giscus (GitHub Discussions)
- 다크모드 지원
- 반응 이모지 지원

---

## 🎨 디자인 시스템

### 색상 팔레트

```css
/* Light Mode */
--primary: #2563eb      /* 파랑 - 링크, 버튼 */
--secondary: #64748b    /* 회색 - 보조 텍스트 */
--background: #ffffff   /* 배경 */
--surface: #f8fafc      /* 카드 배경 */
--text: #0f172a         /* 본문 */
--border: #e2e8f0       /* 테두리 */
--accent: #3b82f6       /* 강조색 */

/* Dark Mode (선택사항) */
--primary: #60a5fa
--background: #0f172a
--surface: #1e293b
--text: #f1f5f9
--border: #334155
```

### 타이포그래피

```css
/* 폰트 패밀리 */
--font-sans: 'Pretendard', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
--font-mono: 'Fira Code', 'Consolas', monospace;

/* 크기 */
--text-xs: 0.75rem    /* 12px - 메타 정보 */
--text-sm: 0.875rem   /* 14px - 보조 텍스트 */
--text-base: 1rem     /* 16px - 본문 */
--text-lg: 1.125rem   /* 18px - 서브 제목 */
--text-xl: 1.25rem    /* 20px - 카드 제목 */
--text-2xl: 1.5rem    /* 24px */
--text-3xl: 1.875rem  /* 30px - 페이지 제목 */
--text-4xl: 2.25rem   /* 36px */
```

### 간격 시스템

```css
--space-1: 0.25rem   /* 4px */
--space-2: 0.5rem    /* 8px */
--space-3: 0.75rem   /* 12px */
--space-4: 1rem      /* 16px */
--space-6: 1.5rem    /* 24px */
--space-8: 2rem      /* 32px */
--space-12: 3rem     /* 48px */
```

### 반응형 브레이크포인트

```css
--mobile: 640px
--tablet: 768px
--desktop: 1024px
--wide: 1280px
```

---

## 🔧 기능 명세

### 1. 핀 (Pin) 기능

**Notion 설정:**
- Notion 데이터베이스에 `Pinned` 속성 추가 (Checkbox 타입)
- 체크된 글만 메인 페이지 상단에 표시
- 최대 3개까지만 표시 (최신순)

**구현:**
```typescript
// Notion에서 가져올 때
const pinnedPosts = posts.filter(p => p.pinned).slice(0, 3);
```

### 2. 조회수 (View Counter)

**기술 스택:** Vercel KV (Redis)

**동작 방식:**
1. 페이지 로드 시 `/api/views/[slug]` 호출
2. Redis에서 `views:{slug}` 키 증가
3. 증가된 조회수 반환
4. 화면에 표시

**중복 방지:**
- 세션 스토리지 활용
- 같은 세션에서는 조회수 증가 안 함

**구현:**
```javascript
// api/views/[slug].js
export async function GET({ params }) {
  const views = await kv.incr(`views:${params.slug}`);
  return Response.json({ views });
}
```

### 3. 댓글 (Comments)

**기술 스택:** Giscus (GitHub Discussions)

**설정:**
1. GitHub repo에 Discussions 활성화
2. Giscus 앱 설치
3. React 컴포넌트로 임베드

**장점:**
- 완전 무료
- GitHub 계정으로 로그인
- Markdown 지원
- 스팸 필터링 자동
- 이메일 알림

---

## 📁 프로젝트 구조

```
blog/
├── src/
│   ├── components/
│   │   ├── Header.astro           # 헤더 (햄버거 메뉴)
│   │   ├── HeroSection.astro      # 메인 Hero
│   │   ├── PostCard.astro         # 글 카드 컴포넌트
│   │   ├── PinnedPosts.astro      # 핀한 글 섹션
│   │   ├── RecentPosts.astro      # 최신 글 섹션
│   │   ├── ViewCounter.tsx        # 조회수 (React)
│   │   ├── Comments.tsx           # 댓글 (Giscus)
│   │   └── TagFilter.astro        # 태그 필터
│   │
│   ├── layouts/
│   │   ├── BaseLayout.astro       # 기본 레이아웃
│   │   └── BlogPost.astro         # 블로그 포스트 레이아웃
│   │
│   ├── pages/
│   │   ├── index.astro            # 메인 페이지
│   │   ├── posts.astro            # 글 목록 페이지
│   │   ├── blog/
│   │   │   └── [...slug].astro    # 글 상세
│   │   └── api/
│   │       ├── views/
│   │       │   └── [slug].js      # 조회수 API
│   │       └── likes/
│   │           └── [slug].js      # 좋아요 API (선택)
│   │
│   ├── styles/
│   │   └── global.css             # 전역 스타일
│   │
│   └── content/
│       ├── config.ts
│       └── blog/                  # Notion 동기화된 글들
│
├── scripts/
│   └── sync-notion.mjs            # Notion 동기화
│
└── public/
    └── images/                    # 이미지 저장소
```

---

## 🚀 구현 우선순위

### Phase 1: 기본 레이아웃 (1-2일)
- [x] Notion 동기화 완료
- [ ] Header 컴포넌트
- [ ] 메인 페이지 레이아웃
- [ ] 글 목록 페이지
- [ ] 글 상세 페이지
- [ ] 반응형 디자인

### Phase 2: 핀 기능 (1일)
- [ ] Notion에 Pinned 속성 추가
- [ ] sync 스크립트 수정
- [ ] PinnedPosts 컴포넌트
- [ ] 메인 페이지에 통합

### Phase 3: 조회수 (1일)
- [ ] Vercel KV 설정
- [ ] API 엔드포인트 구현
- [ ] ViewCounter 컴포넌트
- [ ] 세션 중복 방지

### Phase 4: 댓글 (1시간)
- [ ] GitHub Discussions 활성화
- [ ] Giscus 설정
- [ ] Comments 컴포넌트
- [ ] 블로그 포스트에 통합

### Phase 5: 추가 기능 (선택)
- [ ] 검색 기능
- [ ] 태그 필터링
- [ ] 다크 모드
- [ ] 좋아요 기능
- [ ] RSS 피드
- [ ] 사이트맵

---

## 🎯 핵심 사용자 플로우

### 1. 방문자가 처음 방문
```
메인 페이지 진입
  ↓
Hero Section 확인 (자기소개)
  ↓
핀한 글 3개 보기
  ↓
관심 있는 글 클릭
  ↓
글 읽기 (조회수 +1)
  ↓
댓글 작성 (GitHub 로그인)
```

### 2. 글 목록 탐색
```
햄버거 메뉴 클릭
  ↓
글 목록 페이지 이동
  ↓
태그 필터 선택 (예: React)
  ↓
관심 글 찾기
  ↓
클릭하여 읽기
```

### 3. 검색
```
글 목록 페이지
  ↓
검색창에 키워드 입력
  ↓
실시간 필터링
  ↓
결과 확인
```

---

## 💡 추가 아이디어

### 나중에 추가할 수 있는 기능

1. **통계 대시보드**
   - 총 조회수, 인기 글 TOP 5
   - 관리자만 볼 수 있는 페이지

2. **시리즈 기능**
   - 연재 글을 시리즈로 묶기
   - 이전/다음 글 네비게이션

3. **북마크 기능**
   - 로컬스토리지에 저장
   - "나중에 읽기" 목록

4. **공유 기능**
   - Twitter, Facebook, 링크 복사
   - Open Graph 메타 태그

5. **목차 (TOC)**
   - 긴 글의 제목 추출
   - 사이드바 고정 TOC

---

## 📝 Notion 데이터베이스 스키마 (업데이트)

| 속성 | 타입 | 설명 | 필수 |
|------|------|------|------|
| Name | Title | 제목 | ✅ |
| Status | Select | Draft / Published | ✅ |
| Created | Date | 작성일 | ✅ |
| Description | Text | 요약/설명 | ⭐ |
| Tags | Multi-select | 태그 | ⭐ |
| Cover | Files | 커버 이미지 | ⭐ |
| **Pinned** | Checkbox | 메인 고정 여부 | 🆕 |

---

## 🎨 UI/UX 원칙

1. **가독성 우선**
   - 넓은 여백
   - 적절한 라인 높이 (1.6-1.8)
   - 명확한 계층 구조

2. **빠른 로딩**
   - 이미지 lazy loading
   - 코드 스플리팅
   - Astro의 정적 생성 활용

3. **접근성**
   - 시맨틱 HTML
   - ARIA 레이블
   - 키보드 네비게이션

4. **일관성**
   - 통일된 간격 시스템
   - 일관된 색상 사용
   - 예측 가능한 인터랙션

---

이 기획서를 기반으로 단계별로 구현하시겠어요? 먼저 어떤 Phase부터 시작할까요? 🚀

---
title: "ì›¹ë·°ì—ë„ ì˜¤í”„ë¼ì¸ ê¸°ëŠ¥ì´ í•„ìš”í•˜ì§€Â ì•Šì„ê¹Œìš”?"
pubDate: 2026-01-12T14:29:04.021Z
notionId: "2cd7cf19-a364-8048-880e-fba523f0880f"
---
![1*J5URBSRh3kOK22AnX-isqQ.png](https://cdn-images-1.medium.com/max/1600/1*J5URBSRh3kOK22AnX-isqQ.png)

> ì˜¤í”„ë¼ì¸ì‹œ ì›¹ë·°ê°€ êº¼ì§€ëŠ” ë¬¸ì œë¥¼ ì œê¸°í•˜ê³ , í•´ê²°í•œ ì´ì•¼ê¸°

**ê¸°ìˆ  ìŠ¤íƒ**: React Query + Service Worker + Workbox


---


### ë¬¸ì œ ì œê¸°

> â€œì´ê±° ë¬¸ì œ ì•„ë‹Œê°€ìš”?â€

ìŠ¤íƒ€íŠ¸ì—… í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œìë¡œ ì¼í•˜ë©° ìš°ë¦¬ ì œí’ˆì„ ìì£¼ í…ŒìŠ¤íŠ¸í–ˆìŠµë‹ˆë‹¤.


ì–´ëŠ ë‚ , ì§€í•˜ ì£¼ì°¨ì¥ì—ì„œ ì•±ì„ ì¼°ì„ ë•Œ ì´ìƒí•¨ì„ ëŠê¼ˆìŠµë‹ˆë‹¤.


### ë„¤ì´í‹°ë¸Œ ì•± vsÂ ì›¹ë·°


ë„¤ì´í‹°ë¸Œ ì•±ìœ¼ë¡œ êµ¬í˜„ëœ ë¶€ë¶„ì€ ì •ìƒì‘ë™í–ˆê³  ì‹¬ì§€ì–´ ì˜¤í”„ë¼ì¸ì—ì„œ ì—…ë¡œë“œ ì˜ˆì•½ ê¸°ëŠ¥ê¹Œì§€ êµ¬í˜„ë˜ì–´ìˆì—ˆìŠµë‹ˆë‹¤.


ê°™ì€ ì œí’ˆì¸ë° ì™œ ê²½í—˜ì´ ë‹¤ë¥¼ê¹Œ?


### ì›ì¸ ë¶„ì„


ë„¤ì´í‹°ë¸Œ íŒ€ ì½”ë“œë¥¼ ì‚´í´ë³´ë‹ˆ, **ì´ë¯¸ ì˜¤í”„ë¼ì¸ ì²˜ë¦¬ê°€ ì™„ë²½í•˜ê²Œ êµ¬í˜„**ë˜ì–´ ìˆì—ˆìŠµë‹ˆë‹¤.


ì›¹ë·°ëŠ”? **ì•„ë¬´ ì²˜ë¦¬ë„ ì•ˆ ë˜ì–´ ìˆì—ˆìŠµë‹ˆë‹¤.**


ìš°ë¦¬íŒ€ì€ ì•± ê°œë°œ ì†ë„ë¥¼ ë†’ì´ê³ , ì•±ì„ í”„ë¡ íŠ¸ ê°œë°œìê°€ ë³‘ë ¬ì ìœ¼ë¡œ ì‘ì—…í•˜ê³ ì ì›¹ë·°ë¥¼ ì±„íƒí–ˆì—ˆìŠµë‹ˆë‹¤


---


### ğŸ’¬ ë¬¸ì œ ì œê¸°: â€œì›¹ë·°ë„ ì˜¤í”„ë¼ì¸ ì§€ì›ì´Â í•„ìš”í•©ë‹ˆë‹¤â€


### ê±´ì„¤ í˜„ì¥ì´ë¼ëŠ” ìš°ë¦¬ ë„ë©”ì¸ì˜ íŠ¹ìˆ˜ì„±ì„Â ìƒê°í–ˆìŠµë‹ˆë‹¤:


```plain text
ê±´ì„¤ í˜„ì¥ì˜ í˜„ì‹¤:
â€¢ ì§€í•˜ì¸µ ì‘ì—… - ì‹ í˜¸ ì•½í•¨
â€¢ ì‚°ê°„ ì§€ì—­ ê³µì‚¬ - ë„¤íŠ¸ì›Œí¬ ë¶ˆì•ˆì •
â€¢ ëŒ€í˜• ê±´ë¬¼ ë‚´ë¶€ - ì™€ì´íŒŒì´ ì£½ì€ êµ¬ê°„
â€¢ ì´ë™ ì¤‘ ë„¤íŠ¸ì›Œí¬ ì „í™˜ - ì¼ì‹œì  ëŠê¹€
```


ë¹„ì¦ˆë‹ˆìŠ¤ì  ê°€ì¹˜ë¡œë„ ì¶©ë¶„íˆ ë„ì…í•´ë³¼ë§Œ í–ˆìŠµë‹ˆë‹¤.


ë„¤íŠ¸ì›Œí¬ ì• ëŸ¬ë¡œ ì¸í•œ ì´íƒˆë¥ ì„ ì¤„ ì¼ ìˆ˜ ìˆê³  ë¡œë”© ëŒ€ê¸°ì‹œê°„ì„ ì¤„ì—¬ ì‘ì—…ìë“¤ì˜ íš¨ìœ¨ì„ ë†’ì´ë©°Â , ë„¤ì´í‹°ë¸Œì™€ ë™ì¼í•œ UXê°€ì¹˜ë¥¼ ì œê³µí•´ì£¼ëŠ” ê²ƒì…ë‹ˆë‹¤Â .


íŠ¹íˆ ì €í¬ ëŒ€ë¶€ë¶„ì˜ ì‚¬ìš©ìëŠ” í˜„ì¥ì˜ ì†Œì¥ë‹˜ì´ê¸°ì— ê°€ì¥ ê°„ë‹¨í•œ UXì™€ ëŠë¦° ì¸í„°ë„·ì„ ê³ ë ¤í•´ì•¼í–ˆìŠµë‹ˆë‹¤.


( â€œ 3G ë˜ëŠ” ì˜¤ë˜ëœ ê¸°ì¢…ì„ ì‚¬ìš©í•˜ì‹œëŠ” ì‘ì—…ìë¶„ë„ ë§ìœ¼ì‹œë‹¤ëŠ” ë„ë©”ì¸ì  íŠ¹ì§•ì´Â â€¦â€ )


ë”°ë¼ì„œ ë°”ë¡œ ì—´ì‹¬íˆ ë¬¸ì„œí™”ë¥¼ í•´ì„œ í…Œí¬ë¦¬ë“œì—ê²Œ ë§ì”€ë“œë ¸ìŠµë‹ˆë‹¤!


### í…Œí¬ë¦¬ë“œì˜ ê²°ì •


```plain text
í…Œí¬ë¦¬ë“œ: "ì¢‹ì€ ì§€ì ì…ë‹ˆë‹¤. í•˜ì§€ë§Œ..."
ë‚˜: "ë„¤?"
í…Œí¬ë¦¬ë“œ: "ë‹¤ë¥¸ ì‚¬ëŒë“¤ì´ ì´í•´í•  ìˆ˜ ìˆê²Œ ì¶©ë¶„íˆ ë¬¸ì„œí™” í•  ìˆ˜ ìˆê² ì–´ìš” ?
				 ê°€ëŠ¥í•˜ë‹¤ë©´ ì›¹ë·° ì˜¤í”„ë¼ì¸ ê¸°ëŠ¥, ë‹¹ì‹ ì´ ë§¡ì•„ì£¼ì„¸ìš”."
ë‚˜: "...ë„¤!!!"
```


```plain text
ê¸°í•œ: 2ì£¼
ìš”êµ¬ì‚¬í•­:
- ë„¤ì´í‹°ë¸Œ ìˆ˜ì¤€ì˜ ì˜¤í”„ë¼ì¸ ì§€ì›
- ê¸°ì¡´ ê¸°ëŠ¥ ë™ì‘ ë³´ì¥
- ë³´ì•ˆ ì´ìŠˆ ì—†ì–´ì•¼ í•¨
```


ì–´ì©Œë‹¤ë³´ë‹ˆ ì œí’ˆì˜ í•µì‹¬ UXë¥¼ ë„ë§¡ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤â€¦.


ì••ë°•ê°ì´ ìƒë‹¹í–ˆìŠµë‹ˆë‹¤


---


### ğŸ—ï¸ í•´ê²° ì„¤ê³„: ì–´ë–»ê²ŒÂ êµ¬í˜„í• ê¹Œ?


### ê¸°ìˆ  ì¡°ì‚¬


ë„¤ì´í‹°ë¸ŒëŠ” ì´ë¯¸ í•´ê²°í–ˆìœ¼ë‹ˆ, **ì›¹ì—ì„œë„ ê°€ëŠ¥**í•  ê²ƒì…ë‹ˆë‹¤.


ì²˜ìŒì—ëŠ” ì˜¤í”„ë¼ì¸ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë©´ ë¦¬ì•¡íŠ¸ì¿¼ë¦¬ ìºì‹±ê³¼ í”„ë¦¬í«ì¹˜ ì ì ˆíˆ í•˜ë©´ ë˜ì§€ ì•Šì„ê¹ŒÂ ?


í•„ìš”í•˜ë‹¤ë©´ ë¡œì»¬ìŠ¤í† ë¦¬ì§€ë‚˜ ì¸ë±ìŠ¤dbì— ë„£ìœ¼ë©´ ì–´ë–¨ê¹ŒÂ ? ë¼ëŠ” ìƒê°ì´ì—ˆìŠµë‹ˆë‹¤.


í—ˆë‚˜ ì•„ë˜ì™€ ê°™ì€ ì´ìœ ë¡œ ê¸°ê°í–ˆìŠµë‹ˆë‹¤

1. âŒ LocalStorageâ€Šâ€”â€Šìš©ëŸ‰ ì œí•œ (5MB), ë™ê¸°ì‹, ì„±ëŠ¥ ì´ìŠˆ
2. âŒ IndexedDBâ€Šâ€”â€Šì§ì ‘ êµ¬í˜„í•˜ë©´ ë³µì¡ë„ ë†’ìŒ

ê·¸ëŸ¬ë˜ì¤‘ PWAì— ëŒ€í•´ì„œ ì˜ìƒì„ ë³´ê²Œ ë˜ì—ˆê³ 


ì„œë¹„ìŠ¤ì›Œì»¤ì™€ ë¦¬ì•¡íŠ¸ ì¿¼ë¦¬ë¥¼ í™œìš©í•œ ì•„í‚¤í…ì²˜ë¥¼ êµ¬ìƒí•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.

1. âœ… **Service Worker + React Query**â€Šâ€”â€ŠPWA í‘œì¤€, ê²€ì¦ë¨
2. ë¬¸ì„œí™”ê°€ ì¤‘ìš”í•˜ë‹¤!!! ë‚´ê°€ í‰ìƒ í”„ë¡œì íŠ¸ë¥¼ ê°€ì ¸ê°ˆ ìˆ˜ ì—†ê¸°ì—Â !

![1_XJ6soYsuW5_HClEUEzmPqA.png](/images/ì›¹ë·°ì—ë„-ì˜¤í”„ë¼ì¸-ê¸°ëŠ¥ì´-í•„ìš”í•˜ì§€-ì•Šì„ê¹Œìš”-0.png)

- ë¬¸ì„œí™” ì‘ì—…ë§Œ ì´í‹€ê±¸ë¦°ê²ƒì€ ë¹„ë°€Â â€¦

ê°€ì¥ ì¤‘ìš”í•œê²ƒì€ ì‚¬ìš©ìê°€ ì˜¤ë˜ëœ ë°ì´í„°ë¥¼ ë³´ì§€ ì•Šìœ¼ë©´ì„œ ì ì ˆíˆ ìºì‹±ì´ ë˜ê³  ì˜¤í”„ë¼ì¸ì—ì„œëŠ” ë§ˆì§€ë§‰ ë°ì´í„°ê°€ ë³´ì´ë„ë¡ í•˜ëŠ” ì•„ì£¼ ì¶”ìƒì ì¸ ìš”êµ¬ì‚¬í•­ì„ ë§Œì¡± ì‹œí‚¤ëŠ” ì•„í‚¤í…ì²˜ì…ë‹ˆë‹¤.


---


### êµ¬í˜„ ê³¼ì •


### ì²« ì‹œë„


â€œì¼ë‹¨ ëª¨ë“  ê±¸ ìºì‹±í•˜ë©´ ë˜ê² ì§€?â€


ë¦¬ì•¡íŠ¸ ì¿¼ë¦¬ ì—†ì´ ìºì‹±ìœ¼ë¡œ ëª¨ë“ ê²ƒì„ êµ¬í˜„í•˜ëŠ” ì•„í‚¤í…ì²˜ë¥¼ í…ŒìŠ¤íŠ¸ í•´ë´¤ìŠµë‹ˆë‹¤.


```plain text
VitePWA({
  workbox: {
    runtimeCaching: [
      {
        urlPattern: /.*/,  // ëª¨ë“  ìš”ì²­ ìºì‹±!
        handler: "CacheFirst",
      },
    ],
  },
});
```


ëª¨ë“ ê²ƒì„ í…ŒìŠ¤íŠ¸ í•´ë³¸ ê²°ê³¼ ë¡œë”© ì†ë„ 3.2ì´ˆ â†’ 0.8ì´ˆ (75% ê°œì„ ) ì˜¤í”„ë¼ì¸ì—ì„œë„ ì‘ë™ â€œëŒ€ë°•, ì´ë¯¸ ì™„ì„±ì¸ë°?â€


í—ˆë‚˜ ìŠ¬ë™ì—ì„œ ì˜¨ ë©”ì‹œì§€ì™€ í•¨ê»˜ ìë¦¬ë¡œ ì°¾ì•„ì˜¤ì‹ Â â€¦


```plain text
QA: "ë¡œê·¸ì¸ì´ ì•ˆ ë©ë‹ˆë‹¤"
ë‚˜: "ë­ê°€ ë¬¸ì œì§€...?"
```


Aë¡œê·¸ì¸í›„ ìºì‹±ì´ë˜ì–´ì„œ Bë¡œ ë¡œê·¸ì¸í•´ë„ Aë¡œ ë¡œê·¸ì¸ë˜ëŠ” ì¹˜ëª…ì ì¸ë²„ê·¸!!!! **ê¸´ê¸‰ ë¡¤ë°± í›„ ë‹¤ë¥¸ ì•„í‚¤í…ì²˜ë¥¼ ì°¾ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.**


âŒ ëª¨ë“  ê²ƒì„ ìºì‹±í•˜ë©´ ë³´ì•ˆ ì‚¬ê³ Â !!


ì„ íƒì  ìºì‹±ì´ í•„ìš”í•©ë‹ˆë‹¤Â .. íŠ¹íˆ Auth ì¸ì¦ ê´€ë ¨ APIëŠ” ìºì‹± ì ˆëŒ€ ê¸ˆì§€!!


---


### React Query ì™€ SWÂ ë„ì…


ì˜¤í”„ë¼ì¸ í™˜ê²½ì—ì„œë„ ì•ˆì •ì ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì œê³µí•˜ê¸° ìœ„í•´,


**ì• í”Œë¦¬ì¼€ì´ì…˜ ë ˆë²¨(React Query)** ê³¼ **ë„¤íŠ¸ì›Œí¬ ë ˆë²¨(Service Worker)** ì„ ëª…í™•íˆ ë¶„ë¦¬í–ˆìŠµë‹ˆë‹¤.


ê° ê³„ì¸µì€ ì„œë¡œ ë‹¤ë¥¸ ì±…ì„ì„ ê°€ì§‘ë‹ˆë‹¤.


**1ï¸âƒ£ ì• í”Œë¦¬ì¼€ì´ì…˜ ë ˆë²¨â€Šâ€”â€ŠReact Query**


React QueryëŠ” í™”ë©´ ë‹¨ì—ì„œ ë°ì´í„°ë¥¼ ê´€ë¦¬í•˜ê³ ,


ì‚¬ìš©ìì—ê²Œ â€œì¦‰ì‹œ ë°˜ì‘í•˜ëŠ” ê²½í—˜â€ì„ ì œê³µí•©ë‹ˆë‹¤.


```plain text
// queryClient.ts
export const queryClient = new QueryClient({
  defaultOptions: {
    queries: {
      staleTime: 5 * 60 * 1000,      // 5ë¶„ ë™ì•ˆ ì‹ ì„  ë°ì´í„°ë¡œ ê°„ì£¼
      gcTime: 30 * 60 * 1000,        // 30ë¶„ ë™ì•ˆ ìºì‹œ ìœ ì§€
      networkMode: "offlineFirst",   // ì˜¤í”„ë¼ì¸ ìš°ì„  ì „ëµ
      refetchOnWindowFocus: true,    // í¬ì»¤ìŠ¤ ë³µê·€ ì‹œ ìë™ ê°±ì‹ 
      retry: false,                  // ë„¤íŠ¸ì›Œí¬ ì—ëŸ¬ ì‹œ ì¬ì‹œë„ ë¹„í™œì„±í™”
    },
  },
});
```


React QueryëŠ” **Stale-While-Revalidate(SWR)** íŒ¨í„´ìœ¼ë¡œ ì‘ë™í•©ë‹ˆë‹¤.


ì¦‰, ìºì‹œê°€ **stale(ë§Œë£Œ)** ìƒíƒœì´ë”ë¼ë„ ê¸°ì¡´ ë°ì´í„°ë¥¼ ë¨¼ì € ì¦‰ì‹œ í™”ë©´ì— ë³´ì—¬ì£¼ê³ 


ë°±ê·¸ë¼ìš´ë“œì—ì„œ ìµœì‹  ë°ì´í„°ë¥¼ ë°›ì•„ì˜¤ë©´ ìë™ìœ¼ë¡œ UIë¥¼ ê°±ì‹ í•©ë‹ˆë‹¤.


ì´ ë•ë¶„ì— ì‚¬ìš©ìëŠ” **ë¡œë”© ì—†ì´ ì¦‰ê°ì ì¸ ì‘ë‹µ**ì„ ê²½í—˜í•˜ë©´ì„œë„


í•­ìƒ ìµœì‹  ìƒíƒœë¥¼ ìœ ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.


**2ï¸âƒ£ ë„¤íŠ¸ì›Œí¬ ë ˆë²¨â€Šâ€”â€ŠService Worker (Workbox)**


Service WorkerëŠ” ë„¤íŠ¸ì›Œí¬ ìš”ì²­ ë‹¨ì—ì„œ ë™ì‘í•˜ë©°, ë„¤íŠ¸ì›Œí¬ ìƒíƒœì— ë”°ë¼ ìºì‹œ ë˜ëŠ” ì‹¤ì œ APIë¥¼ ì ì ˆíˆ ì„ íƒí•©ë‹ˆë‹¤.


```plain text
// vite.config.ts
{
  urlPattern: /\/api\/.*/,             // API ìš”ì²­ë§Œ í•„í„°ë§
  handler: "NetworkFirst",             // ìµœì‹  ë°ì´í„° ìš°ì„  ì „ëµ
  options: {
    cacheName: "api-cache",            // API ìºì‹œ ì´ë¦„
    networkTimeoutSeconds: 3,          // 3ì´ˆ ë‚´ ì‘ë‹µ ì—†ìœ¼ë©´ ìºì‹œ ì‚¬ìš©
    expiration: {
      maxAgeSeconds: 60 * 60 * 24,     // ìºì‹œ ìœ ì§€ ê¸°ê°„: 1ì¼
    },
  },
}
```


ì´ ì„¤ì •ì€ **NetworkFirst ì „ëµ**ì„ ì‚¬ìš©í•©ë‹ˆë‹¤. ì¦‰, ê°€ëŠ¥í•œ í•œ ë„¤íŠ¸ì›Œí¬ì—ì„œ ìµœì‹  ë°ì´í„°ë¥¼ ë¨¼ì € ê°€ì ¸ì˜¤ë˜,


ì˜¤í”„ë¼ì¸ì´ê±°ë‚˜ ì‘ë‹µì´ ëŠ¦ì„ ê²½ìš°ì—ëŠ” **ìºì‹œëœ ë°ì´í„°ë¥¼ ì¦‰ì‹œ ì œê³µ**í•©ë‹ˆë‹¤.


ì´ë¥¼ í†µí•´ ì‚¬ìš©ìëŠ” ë„¤íŠ¸ì›Œí¬ê°€ ë¶ˆì•ˆì •í•´ë„ ì„œë¹„ìŠ¤ê°€ ë©ˆì¶”ì§€ ì•Šê³  ë¶€ë“œëŸ½ê²Œ ë™ì‘í•˜ëŠ” ê²½í—˜ì„ í•˜ê²Œ ë©ë‹ˆë‹¤.


ë¬¸ì œê°€ ì¡´ì¬í•©ë‹ˆë‹¤ ì–´ë–»ê²Œ ë¯¼ê°í•œ ë°ì´í„°ëŠ” ìºì‹±í•˜ì§€ ì•Šìœ¼ë©´ì„œ ì‘ì—…ì´ ê°€ëŠ¥í• ê¹Œìš”Â ?

> íŒ€ í”¼ë“œë°±: â€œì—¬ì „íˆ ë¡œê·¸ì¸ API ì‘ë‹µì´ ìºì‹±ë˜ê³  ìˆìŠµë‹ˆë‹¤â€

ì²˜ìŒì—ëŠ” ì´ ë¬¸ì œë¥¼ **ë°±ì—”ë“œì—ì„œ í•´ê²°í•´ì•¼ í•˜ë‚˜** ê³ ë¯¼í–ˆìŠµë‹ˆë‹¤.


â€œresponse í—¤ë”ì— Cache-Control: no-cacheë¥¼ ì¶”ê°€í•´ ë‹¬ë¼â€ê³  ìš”ì²­í•˜ë©´ í•´ê²°ë  ìˆ˜ë„ ìˆì—ˆì£ .


í•˜ì§€ë§Œ ë‹¹ì‹œ ë°±ì—”ë“œíŒ€ì€ ì´ë¯¸ ë‹¤ë¥¸ ì—…ë¬´ë¡œ ë°”ë¹´ê³ ,


ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ë ¤ë©´ **ë°±ì—”ë“œì™€ í”„ë¡ íŠ¸ ëª¨ë‘ì˜ ìˆ˜ì •ì´ í•„ìš”**í–ˆìŠµë‹ˆë‹¤.

> â€œí”„ë¡ íŠ¸ì—ì„œë§Œ í•´ê²°í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì€ ì—†ì„ê¹Œ?â€

ê³ ë¯¼ ëì—, **ìš”ì²­(request) ë‹¨ê³„ì—ì„œ ìºì‹± ì œì–´ ì‹ í˜¸ë¥¼ ì§ì ‘ ë³´ë‚´ëŠ” ë°©ë²•**ì„ ë– ì˜¬ë ¸ìŠµë‹ˆë‹¤.


ë°±ì—”ë“œ ì‘ë‹µì´ ì•„ë‹ˆë¼, **í”„ë¡ íŠ¸ ìš”ì²­ í—¤ë”ì— â€œX-No-Cacheâ€: â€œtrueâ€ë¥¼ ì¶”ê°€**í•˜ëŠ” ê²ë‹ˆë‹¤.


ì´ ì‹ í˜¸ë¥¼ ê°ì§€í•´ì„œ Axiosê°€ URLì— _noCache=1ì„ ë¶™ì´ë©´,


**Service Workerê°€ í•´ë‹¹ ìš”ì²­ì„ ìë™ìœ¼ë¡œ ìºì‹± ì˜ˆì™¸ ì²˜ë¦¬**í•˜ë„ë¡ ë§Œë“¤ ìˆ˜ ìˆì£ .


ì¦‰,

> â€œë°±ì—”ë“œì˜ ì‘ë‹µì„ ë°”ê¾¸ëŠ” ëŒ€ì‹ ,í”„ë¡ íŠ¸ì—ì„œ â€˜ì´ê±´ ìºì‹œí•˜ì§€ ë§ˆâ€™ë¼ëŠ” íŒíŠ¸ë¥¼ URLì— ë¶™ì´ìâ€

ë¼ëŠ” ì•„ì´ë””ì–´ë¡œ ë¬¸ì œë¥¼ ì™„ì „íˆ í”„ë¡ íŠ¸ì—”ë“œ ë‚´ë¶€ì—ì„œ í•´ê²°í•œ ê²ƒì…ë‹ˆë‹¤.


### âš™ï¸ êµ¬í˜„ ë‹¨ê³„ë³„Â ì„¤ëª…


### â‘  AxiosÂ ì¸í„°ì…‰í„°


ìš”ì²­ í—¤ë”ì— â€œX-No-Cacheâ€: â€œtrueâ€ê°€ ìˆìœ¼ë©´,


Axiosê°€ ìë™ìœ¼ë¡œ _noCache=1 íŒŒë¼ë¯¸í„°ë¥¼ URLì— ë¶™ì—¬ì¤ë‹ˆë‹¤.


```plain text
publicAxiosInstance.interceptors.request.use((config) => {
  if (config.headers["X-No-Cache"] === "true") {
    const separator = config.url?.includes("?") ? "&" : "?";
    config.url = `${config.url}${separator}_noCache=1`;
  }
  return config;
});
```


ğŸ‘‰ ì´ë ‡ê²Œ í•˜ë©´ ê°œë°œìê°€ ë³„ë„ë¡œ URL ìˆ˜ì •í•  í•„ìš” ì—†ì´


**í—¤ë” í•œ ì¤„ë¡œ ìºì‹± ì˜ˆì™¸ë¥¼ ì„ ì–¸**í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.


---


### â‘¡ ì‹¤ì œ API í˜¸ì¶œÂ ì˜ˆì‹œ


```plain text
const postLogin = async (data) => {
  return publicAxiosInstance.post("/auth/login", data, {
    headers: { "X-No-Cache": "true" }
  });
};
```


ğŸ‘‰ â€œX-No-Cacheâ€: â€œtrueâ€ë§Œ ì¶”ê°€í•˜ë©´


ìë™ìœ¼ë¡œ /auth/login?_noCache=1 ìš”ì²­ìœ¼ë¡œ ë°”ë€Œê³ 


í•´ë‹¹ ìš”ì²­ì€ ìºì‹±ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.


---


### â‘¢ Service Workerì—ì„œÂ í•„í„°ë§


```plain text
{
  urlPattern: ({ url }) => {
    if (url.searchParams.has("_noCache")) {
      return false; // ìºì‹± ì œì™¸
    }
    return true;
  },
}
```


ğŸ‘‰ Service WorkerëŠ” _noCache íŒŒë¼ë¯¸í„°ê°€ ë¶™ì€ ìš”ì²­ì„


**ì ˆëŒ€ ìºì‹œ ì €ì¥í•˜ì§€ ì•Šë„ë¡ í•„í„°ë§**í•©ë‹ˆë‹¤.


### â€œì•ˆì „í•œ ì„ íƒì  ìºì‹±Â ì™„ì„±â€


**êµ¬ë¶„ìºì‹±ì„¤ëª…**/api/projectsâœ…ì¼ë°˜ API, ìºì‹± ê°€ëŠ¥/auth/loginâŒì¸ì¦ ê´€ë ¨, ìºì‹± ê¸ˆì§€/auth/refreshâŒí† í° ì¬ë°œê¸‰, ìºì‹± ê¸ˆì§€/payment/completeâŒê²°ì œ ì‘ë‹µ, ìºì‹± ê¸ˆì§€


ì´ë¡œì¨ **ë³´ì•ˆ ì´ìŠˆ ì—†ì´ ì˜¤í”„ë¼ì¸ ìºì‹± ê¸°ëŠ¥ ìœ ì§€**ê°€ ê°€ëŠ¥í•´ì¡ŒìŠµë‹ˆë‹¤.


### ì½”ë“œ í’ˆì§ˆâ€Šâ€”â€Šê¸€ë¡œë²Œ ì—ëŸ¬Â ì²˜ë¦¬


ë˜í•œ ì „ì—­ì ìœ¼ë¡œ ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ë¡œ í˜ì´ì§€ë¥¼ ì•„ì˜ˆ ë³´ì—¬ì£¼ì§€ ëª»í•˜ëŠ” ê²½ìš°ë¥¼ ì²˜ë¦¬ í–ˆìŠµë‹ˆë‹¤.


**ë¬¸ì œ**: 20ê°œ í˜ì´ì§€ì— ì¤‘ë³µëœ ì—ëŸ¬ ì²˜ë¦¬ ì½”ë“œ ë¦¬ì•¡íŠ¸ ì¿¼ë¦¬ì˜ ì „ì—­ ì˜µì…˜ìœ¼ë¡œ ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ì¼ê²½ìš°ì—ë§Œ throw í•´ì¤˜ì„œ ì „ì—­ ì• ëŸ¬ ë°”ìš´ë”ë¦¬ì— ìƒˆë¡œ ìƒì„±í•œ ë„¤íŠ¸ì›Œí¬ ë°”ìš´ë”ë¦¬ë¥¼ ì ìš©ì‹œì¼°ìŠµë‹ˆë‹¤.


```plain text
// ë°˜ë³µë˜ëŠ” íŒ¨í„´...
const GalleryPage = () => {
  const { data, error, isLoading } = useGetGallery();
if (isLoading) return <LoadingSpinner />;
  if (error) { /* ì—ëŸ¬ ì²˜ë¦¬ ë¡œì§ 10ì¤„ */ }
  return <GalleryView data={data} />;
};
```


**í•´ê²°**: í•œ ê³³ì—ì„œ ëª¨ë“  ì—ëŸ¬ ì²˜ë¦¬


```plain text
// queryClient.ts
{
  throwOnError: (error, query) => {
    if (!isNetworkError(error)) return false;
    const hasCache = query.state.data !== undefined;
    return !hasCache;  // ìºì‹œ ì—†ì„ ë•Œë§Œ throw
  }
}

// GlobalErrorProvider.tsx
export const GlobalErrorProvider = ({ children }) => {
  return (
    <ErrorBoundary FallbackComponent={GlobalErrorFallback}>
      {children}
    </ErrorBoundary>
  );
};
```


---


### ğŸ’¡ í•µì‹¬Â ì¸ì‚¬ì´íŠ¸


### 1. ë„ë©”ì¸ ì´í•´ì˜Â ì¤‘ìš”ì„±


**ê¸°ìˆ ë§Œ ì•ˆë‹¤ê³  í•´ê²°ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.**


```plain text
ì¼ë°˜ ì›¹ì•±:
- ì‚¬ë¬´ì‹¤ í™˜ê²½
- ì•ˆì •ì  ë„¤íŠ¸ì›Œí¬
- ì˜¤í”„ë¼ì¸ ì§€ì› ë¶ˆí•„ìš”

ê±´ì„¤ í˜„ì¥ ì•±:
- ì§€í•˜/ì‚°ê°„ ì§€ì—­
- ë¶ˆì•ˆì •í•œ ë„¤íŠ¸ì›Œí¬
- ì˜¤í”„ë¼ì¸ ì§€ì› í•„ìˆ˜ âœ…
```

> â€œìš°ë¦¬ ë„ë©”ì¸ì˜ íŠ¹ìˆ˜ì„±ì„ ì´í•´í•˜ê³ ,
> ê·¸ì— ë§ëŠ” ê¸°ìˆ ì„ ì„ íƒí•´ì•¼ í•œë‹¤â€

---


### 2. ë¹„ì¦ˆë‹ˆìŠ¤ ê°€ì¹˜ë¡œÂ ë§í•˜ê¸°


**í…Œí¬ë¦¬ë“œë¥¼ ì„¤ë“í•˜ëŠ” ë°©ë²•ì„ ë°°ì› ìŠµë‹ˆë‹¤.**


âŒ â€œService Workerë¥¼ ì¨ì„œ PWAë¥¼ ë§Œë“¤ê³  ì‹¶ì–´ìš”â€


â€œí˜„ì¬ ë„¤íŠ¸ì›Œí¬ ì—ëŸ¬ë¡œ ì›” ì›¹ì´ êº¼ì§„ê²ƒ ì²˜ëŸ¼ ë³´ì…ë‹ˆë‹¤ ë‹¤ì–‘í•œ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ê°€ì ¸ì™”ìŠµë‹ˆë‹¤.â€œ


ì˜¤í”„ë¼ì¸ ì§€ì›ìœ¼ë¡œ ì´ë¥¼ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë„¤ì´í‹°ë¸ŒëŠ” ì´ë¯¸ êµ¬í˜„ë˜ì–´ ìˆê³ , ì›¹ë·°ë§Œ ë¯¸ì§€ì› ìƒíƒœì…ë‹ˆë‹¤.â€


**ê²°ê³¼**: ì¦‰ì‹œ ìŠ¹ì¸ + ë¦¬ì†ŒìŠ¤ í• ë‹¹

> â€œê¸°ìˆ  ì´ì•¼ê¸°ê°€ ì•„ë‹ˆë¼,
> ë¹„ì¦ˆë‹ˆìŠ¤ ê°€ì¹˜ë¥¼ ë¬¸ì„œë¡œ ë§í•´ì•¼ í•œë‹¤â€

---


### 3. ëŠ¥ë™ì  ë¬¸ì œÂ ì œê¸°


**ìŠ¤íƒ€íŠ¸ì—…ì—ì„œ ê°€ì¥ ì¤‘ìš”í•œ ì ì´ë¼ê³  ìƒê°í•©ë‹ˆë‹¤.**


ë¹ ë¥¸ ê°œë°œì„ í•˜ë‹¤ë³´ë©´ ë†“ì¹˜ëŠ” ê²½ìš°ê°€ ë§ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.


âŒ â€œì´ê±´ ì œ ì—…ë¬´ê°€ ì•„ë‹Œë°ìš”â€


âŒ â€œëˆ„ê°€ ì‹œí‚¤ë©´ í•˜ì£ â€


âŒ â€œë„¤ì´í‹°ë¸Œ íŒ€ì´ í•´ì•¼ì£ â€


âœ… â€œì´ê±° ë¬¸ì œì¸ ê²ƒ ê°™ì€ë°, ì œê°€ í•´ê²°í•´ë³¼ê²Œìš”â€


âœ… â€œë” ë‚˜ì€ ë°©ë²•ì´ ìˆì„ ê²ƒ ê°™ì•„ìš”â€


âœ… â€œì œê°€ ë¦¬ì„œì¹˜í•´ë³´ê² ìŠµë‹ˆë‹¤â€


---


### ğŸ“ ê¸°ìˆ ì Â ì„±ì·¨


### âš™ï¸ networkMode: â€œofflineFirstâ€ì˜ ì§„ì‹¤


ì²˜ìŒì—ëŠ” â€œofflineFirstâ€ë¼ëŠ” ì´ë¦„ ë•Œë¬¸ì—


â€œì˜¤í”„ë¼ì¸ì¼ ë•Œë§Œ ìºì‹œë¥¼ ì‚¬ìš©í•œë‹¤â€ê³  ì˜¤í•´í–ˆìŠµë‹ˆë‹¤.


í•˜ì§€ë§Œ ì‹¤ì œ ë™ì‘ ë°©ì‹ì€ ì „í˜€ ë‹¤ë¦…ë‹ˆë‹¤.


### React Queryì˜ ì‹¤ì œÂ ë™ì‘


networkModeëŠ” â€œë„¤íŠ¸ì›Œí¬ ìš”ì²­ì´ ì‹¤íŒ¨í–ˆì„ ë•Œ ì–´ë–»ê²Œ ì²˜ë¦¬í• ì§€â€ë¥¼ ì œì–´í•˜ëŠ” ì˜µì…˜ì…ë‹ˆë‹¤.


ì¦‰, ìºì‹± ì „ëµì´ ì•„ë‹ˆë¼ **ì—ëŸ¬ ì²˜ë¦¬ ì „ëµ**ì— ê°€ê¹ìŠµë‹ˆë‹¤.


**ì˜µì…˜ì„¤ëª…**â€onlineâ€ì˜¤í”„ë¼ì¸ì¼ ë•Œ ìš”ì²­ì´ **ì¼ì‹œ ì •ì§€(paused)** ìƒíƒœê°€ ë˜ê³ , ì˜¨ë¼ì¸ ë³µê·€ ì‹œ ìë™ ì¬ì‹œì‘â€alwaysâ€ë„¤íŠ¸ì›Œí¬ ìƒíƒœì™€ ê´€ê³„ì—†ì´ í•­ìƒ ìš”ì²­ ì‹œë„, ì‹¤íŒ¨ ì‹œ ì¦‰ì‹œ ì—ëŸ¬ ë°œìƒâ€offlineFirstâ€í•­ìƒ ë„¤íŠ¸ì›Œí¬ ìš”ì²­ì„ ì‹œë„í•˜ì§€ë§Œ, ì‹¤íŒ¨í–ˆì„ ë•Œ **ìºì‹œê°€ ìˆë‹¤ë©´ ì—ëŸ¬ë¡œ ì²˜ë¦¬í•˜ì§€ ì•ŠìŒ**


ì¦‰, â€œofflineFirstâ€ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ë™ì‘í•©ë‹ˆë‹¤:

1. **ì˜¨ë¼ì¸/ì˜¤í”„ë¼ì¸ ì—¬ë¶€ì™€ ìƒê´€ì—†ì´ í•­ìƒ ë„¤íŠ¸ì›Œí¬ ìš”ì²­ì„ ì‹œë„**
2. ìš”ì²­ ì‹¤íŒ¨ ì‹œ, **ê¸°ì¡´ ìºì‹œê°€ ìˆìœ¼ë©´ ì—ëŸ¬ë¥¼ ë°œìƒì‹œí‚¤ì§€ ì•ŠìŒ**
3. **ìºì‹œë„ ì—†ì„ ê²½ìš°ì—ë§Œ ìš”ì²­ì„ ì¼ì‹œì •ì§€**

---


### ğŸŒ VitePWA(Workbox)ì˜ ë„¤íŠ¸ì›Œí¬ ì „ëµê³¼ì˜Â ì°¨ì´ì 


VitePWA(ë˜ëŠ” Workbox)ì˜ ë„¤íŠ¸ì›Œí¬ ì „ëµì€ ì´ë¦„ì´ ë¹„ìŠ·í•˜ì§€ë§Œ


**ì˜ë¯¸ì™€ ëª©ì ì´ ì™„ì „íˆ ë‹¤ë¦…ë‹ˆë‹¤.**


ì—¬ê¸°ì„œëŠ” ìš”ì²­ì˜ **â€œë°ì´í„° ì†ŒìŠ¤ ìš°ì„ ìˆœìœ„â€**ë¥¼ ê²°ì •í•©ë‹ˆë‹¤.


**ì „ëµì„¤ëª…CacheFirst**ìºì‹œê°€ ìˆìœ¼ë©´ ë„¤íŠ¸ì›Œí¬ë¥¼ ê±´ë“œë¦¬ì§€ ì•Šê³  ìºì‹œë¥¼ ë°”ë¡œ ë°˜í™˜ (ì •ì  ë¦¬ì†ŒìŠ¤ì— ì í•©)**NetworkFirst**ë„¤íŠ¸ì›Œí¬ë¥¼ ë¨¼ì € ì‹œë„í•˜ê³ , ì‹¤íŒ¨ ì‹œ ìºì‹œë¥¼ ì‚¬ìš© (API ìš”ì²­ì— ì í•©)**StaleWhileRevalidate**ìºì‹œëœ ë°ì´í„°ë¥¼ ì¦‰ì‹œ ë³´ì—¬ì£¼ê³ , ë°±ê·¸ë¼ìš´ë“œì—ì„œ ìµœì‹  ë°ì´í„°ë¥¼ ë°›ì•„ ìºì‹œ ê°±ì‹ 

- React Queryì˜ networkModeëŠ” **â€œì—ëŸ¬ ì²˜ë¦¬â€** ì¤‘ì‹¬ì´ê³ ,
- Workboxì˜ ë„¤íŠ¸ì›Œí¬ ì „ëµì€ **â€œë°ì´í„° ë¡œë”© ë°©ì‹â€** ì¤‘ì‹¬ì…ë‹ˆë‹¤.

---


### ğŸ“˜ ì •ë¦¬


**êµ¬ë¶„React QueryWorkbox (VitePWA)**ê°œë…ë„¤íŠ¸ì›Œí¬ ì‹¤íŒ¨ ì‹œ ì²˜ë¦¬ ë°©ì‹ìºì‹œ/ë„¤íŠ¸ì›Œí¬ ìš°ì„ ìˆœìœ„ ê²°ì •â€offlineFirstâ€ ì˜ë¯¸ë„¤íŠ¸ì›Œí¬ ì‹¤íŒ¨ ì‹œ ìºì‹œ ìˆìœ¼ë©´ ì—ëŸ¬ë¡œ ê°„ì£¼í•˜ì§€ ì•ŠìŒ(ì¡´ì¬í•˜ì§€ ì•ŠìŒ, í˜¼ë™ ê¸ˆì§€)â€NetworkFirstâ€ ì˜ë¯¸âœ–ï¸ ì—†ìŒë„¤íŠ¸ì›Œí¬ ìš°ì„ , ì‹¤íŒ¨ ì‹œ ìºì‹œ ì‚¬ìš©â€StaleWhileRevalidateâ€ ëŒ€ì‘React Queryì˜ ê¸°ë³¸ ë™ì‘ íŒ¨í„´ëª…ì‹œì  ì „ëµ ì¤‘ í•˜ë‚˜


React QueryëŠ” **ì• í”Œë¦¬ì¼€ì´ì…˜ ë ˆë²¨**, WorkboxëŠ” **ë„¤íŠ¸ì›Œí¬ ë ˆë²¨**ì—ì„œ ë°ì´í„°ë¥¼ ë‹¤ë£¨ëŠ” êµ¬ì¡°ì…ë‹ˆë‹¤.


### ë‘ ê°€ì§€ ìºì‹±Â ì „ëµ


**Service Worker** (ë„¤íŠ¸ì›Œí¬ ë ˆë²¨):

- ì •ì : CacheFirst
- ë™ì : NetworkFirst

**React Query** (ì• í”Œë¦¬ì¼€ì´ì…˜ ë ˆë²¨):

- staleTime ì´ë‚´: ì¦‰ì‹œ ë°˜í™˜
- staleTime ì´í›„: ìºì‹œ + ë°±ê·¸ë¼ìš´ë“œ ê°±ì‹ 

### âš ï¸ ì—ëŸ¬ëŠ” ì—¬ëŸ¬ ê³„ì¸µì„Â ê±°ì¹œë‹¤


```plain text
Service Worker â†’ Axios â†’ React Query â†’ ErrorBoundary â†’ UI
```


ì—ëŸ¬ëŠ” ì´ë ‡ê²Œ **ì—¬ëŸ¬ ê³„ì¸µì„ ìˆœì°¨ì ìœ¼ë¡œ í†µê³¼í•˜ë©° ì „íŒŒ**ë©ë‹ˆë‹¤.


ì´ ì¤‘ í•˜ë‚˜ë¼ë„ ì ì ˆíˆ ì²˜ë¦¬í•˜ì§€ ì•Šìœ¼ë©´,


ì—ëŸ¬ê°€ ìƒìœ„ë¡œ ì „ë‹¬ë˜ì§€ ì•Šê³  **â€œì¡°ìš©íˆ ì‚¬ë¼ì§€ëŠ”â€ ë¬¸ì œ**ê°€ ë°œìƒí•©ë‹ˆë‹¤.


ì´ë²ˆì— ê²ªì—ˆë˜ Workbox ì´ìŠˆê°€ ë°”ë¡œ ê·¸ ì˜ˆì˜€ìŠµë‹ˆë‹¤.


Service Workerì—ì„œ ë°œìƒí•œ no-response ì—ëŸ¬ê°€ Axiosë‚˜ React Queryë¡œ ì „ë‹¬ë˜ì§€ ì•Šì•„


ê²°êµ­ ì‚¬ìš©ì ì…ì¥ì—ì„œëŠ” **â€œë¬´í•œ ë¡œë”©â€**ìœ¼ë¡œ ë³´ì´ëŠ” í˜„ìƒì´ ë°œìƒí–ˆìŠµë‹ˆë‹¤.

> ğŸ’¡ í•µì‹¬ êµí›ˆ:ë„¤íŠ¸ì›Œí¬, ìš”ì²­, ìƒíƒœ, UIâ€Šâ€”â€Šì–´ëŠ í•œ ê³„ì¸µì´ë¼ë„ ë†“ì¹˜ë©´ ì—ëŸ¬ëŠ” ëˆˆì— ë³´ì´ì§€ ì•Šê²Œ ëœë‹¤

---


### ê°€ì¥ ì¤‘ìš”í•œÂ êµí›ˆ


ê¸°ìˆ ì  êµ¬í˜„ ëŠ¥ë ¥ë„ ì¤‘ìš”í•˜ì§€ë§Œ, ê·¸ë³´ë‹¤ ì¤‘ìš”í•œ ê²ƒì€:


ğŸ“– **ë„ë©”ì¸ ì´í•´** ì˜€ìŠµë‹ˆë‹¤. íšŒì‚¬ì˜ ê°€ì¹˜ë¥¼ ë†’ì´ê¸° ìœ„í•´ì„œëŠ” ìš°ë¦¬ ì‚¬ìš©ìì˜ í™˜ê²½ì„ ì•„ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤.


ğŸ’¼ **ë¹„ì¦ˆë‹ˆìŠ¤ ê°€ì¹˜**â€Šâ€”â€Šê²°êµ­ ì•„ë¬´ë¦¬ ì¢‹ì€ ê¸°ìˆ ì´ë¼ë„ ê°€ì¹˜ê°€ ë˜ì§€ ì•Šìœ¼ë©´ ë¬´ìš©ì§€ë¬¼ì…ë‹ˆë‹¤. ê¸°ìˆ ì„ ê°€ì¹˜ë¡œ ë²ˆì—­í•˜ëŠ” ê²ƒ


ğŸ” **ëŠ¥ë™ì  íƒœë„**â€Šâ€”â€Šë¬¸ì œë¥¼ ë¯¸ë¦¬ ì •ì˜í•˜ê³  í•´ê²°í•˜ë ¤ëŠ” ì˜¤ë„ˆì‹­ì´ ì¤‘ìš”í•˜ë‹¤ê³  ìƒê°í•©ë‹ˆë‹¤.

> â€œì¢‹ì€ ê°œë°œìëŠ” ê¸°ìˆ ì„ ì•„ëŠ” ì‚¬ëŒì´ê³ ,
> í›Œë¥­í•œ ê°œë°œìëŠ” ë¬¸ì œë¥¼ ë°œê²¬í•˜ê³  í•´ê²°í•˜ëŠ” ì‚¬ëŒì´ë‹¤â€

---


_â€œìµœê³ ì˜ ì„±ëŠ¥ì€ ë„¤íŠ¸ì›Œí¬ ìš”ì²­ì„ í•˜ì§€ ì•ŠëŠ” ê²ƒì´ê³ ,ìµœê³ ì˜ ì—ëŸ¬ ì²˜ë¦¬ëŠ” ì‚¬ìš©ìê°€ ìƒí™©ì„ ì´í•´í•˜ëŠ” ê²ƒì´ë‹¤â€â€” Jake Archibald (Google)_


---


### ğŸ”— ì°¸ê³ Â ìë£Œ


**ê³µì‹ ë¬¸ì„œ:**

- [Workbox Documentation](https://developers.google.com/web/tools/workbox)
- [React Queryâ€Šâ€”â€ŠNetwork Mode](https://tanstack.com/query/latest/docs/react/guides/network-mode)
- [Service Worker API](https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API)
- [PWA Guideâ€Šâ€”â€Šweb.dev](https://web.dev/progressive-web-apps/)

**ì¶”ì²œ ì½ì„ê±°ë¦¬:**

- [The Offline Cookbook](https://web.dev/offline-cookbook/)
- [Service Worker Lifecycle](https://developer.chrome.com/docs/workbox/service-worker-lifecycle/)
- [Offline UX Design Guidelines](https://web.dev/offline-ux-design-guidelines/)
